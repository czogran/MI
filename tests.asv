clc
clear
close all 

path = "data-f/";

load=readmatrix(path+'load.txt');
oxygen=readmatrix(path+'oxygen.txt');
feedWaterFlowA=readmatrix('data/feedwater-flow-A.txt');
feedWaterFlowB=readmatrix('data/feedwater-flow-B.txt');
furnanceMaster=readmatrix('data/furnance-master.txt');
furnanceA=readmatrix('data/furnance-A.txt');
furnanceB=readmatrix('data/furnance-B.txt');
steamFlow=readmatrix('data/steam-flow.txt');
steamPressure=readmatrix('data/steam-pressure.txt');
steamTemp=readmatrix('data/steam-temp.txt');
drumPR1=readmatrix('data/drum-PR1.txt');
drumPR2=readmatrix('data/drum-PR2.txt');
drumLVL=readmatrix('data/drum-LVL.txt');
leftAirFlow=readmatrix('data/left-air-flow.txt');
rightAirFlow=readmatrix('data/right-air-flow.txt');



% plotVariable(load)
% plotVariable(oxygen)
% plotVariable(feedWaterFlowA)
% plotVariable(feedWaterFlowB)
% plotVariable(furnanceMaster)
% plotVariable(furnanceA)
% plotVariable(furnanceB)
% plotVariable(steamFlow)
% plotVariable(steamPressure)
% plotVariable(steamTemp)
% plotVariable(drumPR1)
% plotVariable(drumPR2)
% plotVariable(drumLVL)
% plotVariable(leftAirFlow)
% plotVariable(rightAirFlow)


plotTwoVariables(drumPR1,drumPR2);
plotTwoVariables(leftAirFlow,rightAirFlow);

% fMeam = (furnanceA+furnanceB)/2;
% fox=fMeam.*oxygen;
% 
plotVariable(furnanceA);
plotVariable(feedWaterFlowA);

plotVariable(furnanceMaster);
plotVariable(drumLVL);

plotVariable(oxygen);
plotVariable(load);
% 



function plotVariable(variable)
    variableMean=movmean(variable,200);
    figure
    plot(variable,'c')
    hold on
    plot(variableMean,'b')
    title(inputname(1));
    legend(inputname(1),inputname(1)+ " mean", 'Location','best')
    hold off
end

function plotTwoVariables(variable1, variable2)
    variableMean1=movmean(variable1,200);
    variableMean2=movmean(variable2,200);
convertCharsToStrings(inputname(1))
    figure
    plot(variable1,'c')
    hold on
    plot(variableMean1,'b')
    hold on
    plot(variable2,'y')
    hold on
    plot(variableMean2,'r')
    title(convertCharsToStrings(inputname(1))+newline+ convertCharsToStrings(inputname(2)));
    legend(inputname(1),inputname(1)+ " mean",inputname(2),inputname(2)+ " mean", 'Location','best')
    hold off
end